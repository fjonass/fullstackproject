<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>EZdeal EZshop</title>
    <link rel="stylesheet" href="index.css" />
    <link rel="stylesheet" href="color.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="./sort.js"></script>
    
  </head>
  <body>

<!------------------------------------------------------->
<input type="radio" id="dark-mode" value="dark-mode" name="color-scheme"> 
			<label for="dark-mode" class="color-scheme"><img src="./resources/moon.png" width=20px></label> 
		<input type="radio" id="light-mode" value="light-mode" name="color-scheme" checked="checked"> 
			<label for="light-mode" class="color-scheme"><img src="./resources/sun.png" width=20px></label>
		
		<div class="page">

<!------------------------------------------------------->

    <main>
      <div class="navbar">
        <ul>
          <li>
            <a href="./"
              ><img class="logo"
                src="./resources/ez.gif"
                alt="Index"
            /></a>
            <!-- width and height are defined in index.css -->
          </li>
          <div class="search-box">
            <form action="/search" method="POST">
              <input type="search" placeholder="Search" name="cari"/>
              <button type="submit" class="searchButton" >
              </form>
                <i class="fa fa-search"></i>
          </div>
      
          <li>
            <a href="./cartPage"
              ><img
                src="./resources/cart - Copy.png"
                alt="Cart"
            /></a>
          </li>
        </ul>
      </div>
      <script src="./searchbar.js"></script>

      <div class="sort">
          <button class="sortbtn" onclick="sortFunc()">Sort by</button>
          <div class="sort-list" id="sort-l">
            <a href="?sort=PriceAscending">Price (asc.)</a> 
            <a href="?sort=PriceDescending">Price (desc.)</a>
            <a href="?sort=NameAscending">Name (asc.)</a>
            <a href="?sort=NameDescending">Name (desc.)</a>
            <a href="?sort=NoSort">No sort</a>
          </div>
      </div>

      
      <div class="items">

        <!-- Items with .ejs -->
        <% items.forEach((item) => { %>
          <% if(item.name.toLowerCase() === name.toLowerCase() || name === "" || item.name.toLowerCase().includes(name.toLowerCase())) { %>
        <div class="flex-item">
          <div class="item-image">
            <img class="item-image" src="./resources/prototype01.jpg" alt="item image"/>
          </div>
          <div class="item-description">
            <p class="name"><%= item.name %></p>
            <p class="description"><%= item.description %></p>
            <p class="price">$<%= item.price %></p>
          </div>
          <div class="item-button">
            <button type="button" id="button">Add to Cart</button>
          </div>
        </div>
        <% }}); %>

      </div>

    </main>
    <footer>
      <p>copyright Natalie & Jonathan</p>
      <p>2021 CS465 Full-stack final project</p>
    </footer>
  </div>
  </body>
</html>
